PART
{
	name = CParts_YF-3Engine
	module = Part
	author = CFYL
	MODEL
	{
		model = CParts/Parts/Engines/YF-3Engine/YF-3Engine
	}
	rescaleFactor = 1
	node_stack_top = 0.0, 0.3625, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_direct = 0.0, -1.125, 0.0, 0.0, -1.0, 0.0, 1
	node_stack_bottom01 = 0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
	node_stack_bottom02 = 0.0, -0.44, 0.508955, 0.0, -1.0, 0.0, 0
	node_stack_bottom03 = -0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
	node_stack_bottom04 = 0.0, -0.44, -0.508955, 0.0, -1.0, 0.0, 0
	stackSymmetry = 3
	TechRequired = basicRocketry
	entryCost = 1000
	cost = 600
	category = Engine
	subcategory = 0
	title = #autoLOC_CParts_0037
	manufacturer = #autoLOC_CParts_0001
	description = #autoLOC_CParts_0038
	attachRules = 1,0,1,0,0
	mass = 0.75
	heatConductivity = 0.06 // half default
	skinInternalConductionMult = 4.0
	emissiveConstant = 0.8 // engine nozzles are good at radiating.
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 2000 // = 3600
	bulkheadProfiles = size1
	tags = #autoLOC_500444 //#autoLOC_500444 = launch propuls rocket sustain (swivel
	MODULE
	{
		name = ModulePartVariants
		useMultipleDragCubes = false
		baseVariant = Shroud
		VARIANT
		{
			name = Shroud
			displayName = #autoLOC_8007114
			primaryColor = #ffffff
			secondaryColor = #999999
			mass = 0
			cost = 0
			GAMEOBJECTS
			{
				ShroudYF-3 = true
				RingYF-3 = true
			}
			NODES
			{
				node_stack_bottom01 = 0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom02 = 0.0, -0.44, 0.508955, 0.0, -1.0, 0.0, 0
				node_stack_bottom03 = -0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom04 = 0.0, -0.44, -0.508955, 0.0, -1.0, 0.0, 0
			}
		}
		VARIANT
		{
			name = TrussMount
			displayName= #autoLOC_8007113
			primaryColor = #cccccc
			secondaryColor = #d96200
			mass = -0.05
			cost = -25
			GAMEOBJECTS
			{
				ShroudYF-3 = false
				RingYF-3 = true
			}

			NODES
			{
				node_stack_bottom01 = 0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom02 = 0.0, -0.44, 0.508955, 0.0, -1.0, 0.0, 0
				node_stack_bottom03 = -0.508955, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom04 = 0.0, -0.44, -0.508955, 0.0, -1.0, 0.0, 0
			}
		}		
		VARIANT
		{
			name = Bare
			displayName =  #autoLOC_8007115
			primaryColor = #d96200
			secondaryColor = #999999
			mass = -0.1
			cost = -100
			GAMEOBJECTS
			{
				ShroudYF-3 = false
				RingYF-3 = false
			}
			NODES
			{
				node_stack_bottom01 = 0.001, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom02 = 0.0, -0.44, 0.001, 0.0, -1.0, 0.0, 0
				node_stack_bottom03 = -0.001, -0.44, 0.0, 0.0, -1.0, 0.0, 0
				node_stack_bottom04 = 0.0, -0.44, -0.001, 0.0, -1.0, 0.0, 0
			}
		}		
	}
	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 125
		heatProduction = 200
		fxOffset = 0, 0, 0.574338
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 0.79
		EngineID = YF3Lqd
		runningEffectName = fx-swivel-running
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 280
			key = 1 210
			key = 6 0.001
		}
	}
	MODULE
	{
		name = ModuleJettison
		jettisonName = DecShroudYF-3
		bottomNodeName = direct
		isFairing = True
		jettisonedObjectMass = 0.05
		jettisonForce = 15
		jettisonDirection = 0 0 1
		stagingEnabled = True
		checkBottomNode = True
	}
	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 6.0
		}
	}
// This node is copied from SWE without any edit.
	 EFFECTS
  {
		fx-swivel-running
		{
            AUDIO
            {
                channel = Ship
                clip = Waterfall/Sounds/KW/sound_altloop2
                volume = 0.0 0.0
                volume = 1.0 0.3
                pitch = 0.0 1.0
                pitch = 1.0 1.0
                loop = true
            }
        }
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = Waterfall/Sounds/KW/sound_liq10
                volume = 0.3
                pitch = 1.0
                loop = false
            }
        }
        disengage
        {
            AUDIO
            {
                channel = Ship
                clip = sound_vent_soft
                volume = 0.3
                pitch = 2.0
                loop = false
            }
        }
        flameout
        {
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 0.3
                pitch = 2.0
                loop = false
            }
        }
  }
// This node is copied from SWE with edits.
  MODULE
  {
    name = ModuleWaterfallFX
    moduleID = swivelFX

    CONTROLLER
    {
      name = atmosphereDepth
      linkedTo = atmosphere_density
    }
    CONTROLLER
    {
      name = throttle
      linkedTo = throttle
	  engineID = YF3Lqd		// Edit by CFYL
	  responseRateUp = 0.03
      responseRateDown = 0.2
    }
	
    TEMPLATE
    {
      templateName = waterfall-kerolox-lower-4-SWE-CParts	// Renamed by CFYL to prevent confusion
      overrideParentTransform = thrustTransform
	  position = 0,0,1.2	// Edit by CFYL: moved downwards
      rotation = 0, 0, 0
      scale = 1.02, 1.02, 1.06675	// Edit by CFYL: cut to 0.85
    }
	
	TEMPLATE
    {
      templateName = stock-kerolox-core-CParts	// Renamed by CFYL to prevent confusion
      overrideParentTransform = thrustTransform
	  position = 0,0,1.2	// Edit by CFYL: moved downwards
      rotation = 0, 0, 0
      scale = 1.02, 1.02, 0.6545	// Edit by CFYL: cut to 0.85
    }
  }
	MODULE
	{
		name = ModuleCargoPart	
		stackableQuantity = 1
		packedVolume = -1
	}
}
